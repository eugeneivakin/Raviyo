{{ 'images-gallery.css' | asset_url | stylesheet_tag }}

<style>
  .section-images-gallery {
    --background-below-color: {{ section.settings.background_below_color }};
  }
</style>

<script src="{{ 'gallery-scroll.js' | asset_url }}" defer></script>

<div class="container">
  <div class="slider__active">
    <gallery-scroll>
      {% for block in section.blocks %}
        <div class="gallery-scroll__item">
          {{ block.settings.image_slide | image_url: width: block.settings.image_slide.width | image_tag }}
        </div>
      {% endfor %}
    </gallery-scroll>
  </div>
  <div class="slider__static">
    {{ section.settings.image_main | image_url: width: section.settings.image_main.width | image_tag }}
  </div>
</div>

{%- schema -%}
{
  "name": "Images gallery",
  "tag": "section",
  "class": "section-images-gallery",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image_main",
      "label": "Static Image"
    },
    {
      "type": "color",
      "id": "background_below_color",
      "label": "Background color from the section below.",
      "default": "#2f4858"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image_slide",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Images gallery",
      "category": "Custom"
    }
  ]
}
{%- endschema -%}
