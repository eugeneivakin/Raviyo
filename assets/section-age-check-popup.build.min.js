!function(){"use strict";const e={ageCheckPopup:"age-check-popup",ageCheckPopupToggle:"AgeCheckPopupToggle",confirmButton:".js-age-check-popup-confirm"};var o=()=>{const o=window.themeCore.utils.Toggle,t=window.themeCore.utils.on,n=window.themeCore.utils.setCookie,c=window.themeCore.utils.getCookie;let i,u,r,p;return Object.freeze({init:function(){(i=document.getElementById(e.ageCheckPopup))&&(u=i.getAttribute("data-redirect-url"),c("age_check_popup")||(r=o({toggleSelector:e.ageCheckPopupToggle}),window.themeCore.ageCheckPopupOpen=!0,r.init(),document.body.classList.add("blur-content"),r.open(i),t("click",i,function(e){e.target==this&&r.close(i)}),window.themeCore.EventBus.listen(`Toggle:${e.ageCheckPopupToggle}:close`,()=>{p||(window.location.href=u)}),t("keyup",e=>{27===e.keyCode&&(p||(window.location.href=u))})),function(){const o=document.querySelector(e.confirmButton);o&&o.addEventListener("click",function(){!function(){if(!i.hasAttribute("data-cookie-time"))return;let e=i.dataset.cookieTime;n("age_check_popup","1",{"max-age":24*e*60*60})}(),document.body.classList.remove("blur-content"),p=!0,r.close(i)})}())}})};const t=()=>{window.themeCore.AgeCheckPopup=window.themeCore.AgeCheckPopup||o(),window.themeCore.utils.register(window.themeCore.AgeCheckPopup,"age-check-popup")};window.themeCore&&window.themeCore.loaded?t():document.addEventListener("theme:all:loaded",t,{once:!0})}();