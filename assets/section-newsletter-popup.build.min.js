!function(){"use strict";const e={newsletterPopup:"NewsletterPopup",newsletterPopupToggle:"NewsletterPopupToggle",newsletterPopupFormInput:"newsletter-popup-contact-form-input",form:"newsletter-popup-contact-form",input:".js-newsletter-popup-input"},t={posted:"posted"};var o=()=>{const o=window.themeCore.utils.Toggle,n=window.themeCore.utils.on,r=window.themeCore.utils.setCookie,s=window.themeCore.utils.getCookie,i=window.themeCore.utils.cssClasses;let l,p,u;function w(){let t=window.location.pathname.includes("challenge");if(s("newsletter_popup")||t||window.themeCore.ageCheckPopupOpen)return;const r=o({toggleSelector:e.newsletterPopupToggle});r.init(),r.open(l),n("click",l,function(e){e.target==this&&r.close(l)}),window.themeCore.EventBus.listen(`Toggle:${e.newsletterPopupToggle}:close`,()=>{d()}),c()&&d(),function(){const e=new URLSearchParams(window.location.search).get("customer_posted");return!window.location.hash||"#newsletter-popup-contact-form"===window.location.hash||"true"===e}()&&(l.classList.add(i.current),u&&u.focus())}function c(){let o=document.getElementById(e.newsletterPopupFormInput);return!(!o||!o.classList.contains(t.posted))}function d(){if(!l.hasAttribute("data-cookie-time"))return;let e=l.dataset.cookieTime;r("newsletter_popup","1",{"max-age":24*e*60*60})}return Object.freeze({init:function(){if(l=document.getElementById(e.newsletterPopup),p=document.getElementById(e.form),u=document.querySelector(e.input),!l||!p||!u)return!1;let t=c()?0:6e3;setTimeout(w,t)}})};const n=()=>{window.themeCore.NewsletterPopup=window.themeCore.NewsletterPopup||o(),window.themeCore.utils.register(window.themeCore.NewsletterPopup,"newsletter-popup")};window.themeCore&&window.themeCore.loaded?n():document.addEventListener("theme:all:loaded",n,{once:!0})}();